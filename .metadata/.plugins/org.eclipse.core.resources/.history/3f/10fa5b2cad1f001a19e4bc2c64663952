package com.kook.security1.util;

import org.springframework.jdbc.core.BeanPropertyRowMapper;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.transaction.PlatformTransactionManager;

import com.kook.security1.dao.BDaoTemplate;
import com.kook.security1.dto.UserDto;

public class Constant {
	public static JdbcTemplate template; 
	public static PlatformTransactionManager transactionManager;
	public static BDaoTemplate dao;
	
	public UserDto login(String bId) {		
		String sql = "SELECT PID,PPW,PADDRESS,PHOBBY,PPROFILE FROM USERDB WHERE PID='"+bId+"'";	
		//spring security처리시는 여기서 id와 password비교를 안함
		return template.queryForObject(sql, new BeanPropertyRowMapper<UserDto>(UserDto.class));			
	}
}
